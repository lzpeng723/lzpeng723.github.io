(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{680:function(s,a,n){"use strict";n.r(a);var t=n(10),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"配置多个-ssh-key-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置多个-ssh-key-文件"}},[s._v("#")]),s._v(" 配置多个 ssh-key 文件")]),s._v(" "),n("p",[s._v("打开"),n("code",[s._v("~/.ssh")]),s._v("目录")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"设置全局的用户名和邮箱"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置全局的用户名和邮箱"}},[s._v("#")]),s._v(" 设置全局的用户名和邮箱")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置一下全局的用户名和邮箱")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户名为git仓库注册时用户名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 邮箱为git仓库注册时邮箱")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"自定义用户名"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"邮箱"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消全局设置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --unset user.name\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --unset user.email\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"管理git生成的多个ssh-key"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#管理git生成的多个ssh-key"}},[s._v("#")]),s._v(" 管理Git生成的多个ssh key")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("ssh-keygen -t rsa -C "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yourmail@qq.com"')]),s._v(" -f "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"自定义文件名1 如 github_id_rsa"')]),s._v("\nssh-keygen -t rsa -C "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yourmail@qq.com"')]),s._v(" -f "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"自定义文件名2 如 gitee_id_rsa"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"添加私钥到秘匙管理器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加私钥到秘匙管理器"}},[s._v("#")]),s._v(" 添加私钥到秘匙管理器")]),s._v(" "),n("p",[s._v("执行···ssh-agent命令\nssh-agent是一个密钥管理器，运行ssh-agent以后，使用ssh-add将私钥交给ssh-agent保管，\n其他程序需要身份验证的时候可以将验证申请交给ssh-agent来完成整个认证过程")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ ssh-agent\nSSH_AUTH_SOCK=/tmp/ssh-vtu2Stw1WRUj/agent.10928; export SSH_AUTH_SOCK;\nSSH_AGENT_PID=11716; export SSH_AGENT_PID;\necho Agent pid 11716;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"添加私钥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加私钥"}},[s._v("#")]),s._v(" 添加私钥")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ ssh-add ~/.ssh/gitee_id_rsa\nCould not open a connection to your authentication agent.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("在执行上面的添加私钥命令时，如果你也出现Could not open a connection to your authentication agent.\n解决方法如下：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 输入如下命令查看已开启的ssh-agent线程\nps aux | grep ssh\n11716       1   11716      11716  ?         197609 19:32:41 /usr/bin/ssh-agent\n#  执行命令杀死线程：kill -9 线程号\n$ kill -9 11716\n# 在.ssh目录执行如下命令:\nexec ssh-agent bash\neval ssh-agent -s\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("好了，现在我们可以成功添加私钥到秘匙管理器ssh-agent当中了，执行ssh-add命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ssh-add ./gitee_id_rsa\nIdentity added: ./gitee_id_rsa (./gitee_id_rsa)\n\nssh-add ./gitlab_id_rsa\nIdentity added: ./gitlab_id_rsa (./gitlab_id_rsa)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"新建配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建配置文件"}},[s._v("#")]),s._v(" 新建配置文件")]),s._v(" "),n("p",[s._v("在.ssh目录下新建config文件，并添加配置信息\nconfig文件内容如下：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# gitlab\nHost gitlab.com\nHostName gitlab.com\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/gitlab_id_rsa\nUser lzpeng723\n\n# gitee\nHost gitee.com\nHostName gitee.com\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/gitee_id_rsa\nUser lzpeng723\n\n# github\nHost github.com\nHostName github.com\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/github_id_rsa\nUser lzpeng723\n\n# kdgitlab\nHost myliving.top\nHostName myliving.top\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/kd_gitlab_id_rsa\nUser lzpeng723\nPort 58022\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("配置文件说明")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 这个是真实的域名地址\nHostName \n# 这里是id_rsa的地址\nIdentityFile \n# 配置登录时用什么权限认证--可设置publickey,password publickey,keyboard-interactive等\nPreferredAuthentications \n# 配置使用用户名\nUser \n# 配置端口\nPort\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("关于Host参数:\n每个账号单独配置一个Host，每个Host要取一个别名，每个Host主要配置HostName和IdentityFile两个属性即可\nHost的名字可以取为自己喜欢的名字，不过这个会影响git相关命令")]),s._v(" "),n("p",[s._v("例如：\n"),n("code",[s._v("Host mygithub")]),s._v(" 这样定义的话，"),n("code",[s._v("git@")]),s._v("后面紧跟的名字将会变为"),n("code",[s._v("mygithub")]),s._v("，如下\n"),n("code",[s._v("git clone git@mygithub:blog/AndroidRotateAnim.git")]),s._v("\n就相当于你配置的HostName真正的域名映射成了Host后面的配置的名字")]),s._v(" "),n("p",[s._v("注意: 不要在配置文件中添加下面这样的注释,\n这种注释在读取该配置文件时会导致报错，不被识别")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HostName git.glanway.com //这里填你们公司的git网址即可\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"将公钥添加到对应的站点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将公钥添加到对应的站点"}},[s._v("#")]),s._v(" 将公钥添加到对应的站点")]),s._v(" "),n("h3",{attrs:{id:"测试连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试连接"}},[s._v("#")]),s._v(" 测试连接")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#测试连接github\nssh -T git@github.com\n#测试连接gitlab\nssh -T git@gitlab.com\n#测试连接码云\nssh -T git@gitee.com\n#测试连接kdgitlab\nssh -T git@myliving.top\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("测试链接时可能会出现问题")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" ssh -T git@github.com\nThe authenticity of host 'github.com (52.74.223.119)' can't be established.\nRSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.\nAre you sure you want to continue connecting (yes/no/[fingerprint])?\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("这时要输入 "),n("code",[s._v("yes")]),s._v(" 而不是直接按回车\n输入 "),n("code",[s._v("yes")]),s._v(" 后会自动生成 "),n("code",[s._v("known_hosts")]),s._v(" 文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Permanently added the RSA host key for IP address '20.205.243.166' to the list of known hosts.\n``\n手动将ip地址添加到 ```known_hosts``` 文件中， 格式如下\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("github.com,20.205.243.166 publickey")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code")]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"})])])}),[],!1,null,null,null);a.default=e.exports}}]);