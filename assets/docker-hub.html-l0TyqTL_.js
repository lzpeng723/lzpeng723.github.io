import{_ as d,r as i,o as t,c as r,b as a,d as e,e as l,a as n}from"./app-m_Ib8w5j.js";const c={},o=n(`<h2 id="私有仓库搭建" tabindex="-1"><a class="header-anchor" href="#私有仓库搭建" aria-hidden="true">#</a> 私有仓库搭建</h2><h3 id="启动私有仓库镜像" tabindex="-1"><a class="header-anchor" href="#启动私有仓库镜像" aria-hidden="true">#</a> 启动私有仓库镜像</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker run -di --name registry -p 5000:5000 registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),u={href:"http://127.0.0.1:5000/v2/_catalog",target:"_blank",rel:"noopener noreferrer"},v=a("code",null,'{"repositories":[]}',-1),p=n(`<h3 id="配置私有仓库地址" tabindex="-1"><a class="header-anchor" href="#配置私有仓库地址" aria-hidden="true">#</a> 配置私有仓库地址</h3><p>修改daemon.json，让 docker信任私有仓库地址</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vi /etc/docker/daemon.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加以下内容</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;insecure-registries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;127.0.0.1:5000&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存退出后重启docker服务</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="上传镜像" tabindex="-1"><a class="header-anchor" href="#上传镜像" aria-hidden="true">#</a> 上传镜像</h3><p>将镜像上传至私有仓库</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 标记此镜像为私有仓库的镜像
docker tag hello-world:latest 127.0.0.1:5000/hello-world
# 上传已标记的镜像
docker push 127.0.0.1:5000/hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="拉取镜像" tabindex="-1"><a class="header-anchor" href="#拉取镜像" aria-hidden="true">#</a> 拉取镜像</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker pull 127.0.0.1:5000/hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,12);function h(m,b){const s=i("ExternalLinkIcon");return t(),r("div",null,[o,a("p",null,[e("打开浏览器 输入地址 "),a("a",u,[e("http://127.0.0.1:5000/v2/_catalog"),l(s)]),e(" ，看到 "),v,e(" 表示私有仓库搭建成功并且内容为空")]),p])}const x=d(c,[["render",h],["__file","docker-hub.html.vue"]]);export{x as default};
