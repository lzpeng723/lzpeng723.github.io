<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>后端手册 | Minimal</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/logo.png">
    <link rel="apple-touch-icon" href="/logo.png">
    <meta name="description" content="极简后台管理系统">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    <link rel="preload" href="/assets/css/0.styles.9bcdb81a.css" as="style"><link rel="preload" href="/assets/js/app.d8d1518c.js" as="script"><link rel="preload" href="/assets/js/2.6dbcc0f4.js" as="script"><link rel="preload" href="/assets/js/13.8ccc753e.js" as="script"><link rel="prefetch" href="/assets/js/10.09fc6027.js"><link rel="prefetch" href="/assets/js/11.c3f8f138.js"><link rel="prefetch" href="/assets/js/12.a1c2db97.js"><link rel="prefetch" href="/assets/js/14.a14cb64d.js"><link rel="prefetch" href="/assets/js/15.791b996d.js"><link rel="prefetch" href="/assets/js/16.066897d0.js"><link rel="prefetch" href="/assets/js/17.ce209b60.js"><link rel="prefetch" href="/assets/js/18.e3428949.js"><link rel="prefetch" href="/assets/js/3.a18c8fa6.js"><link rel="prefetch" href="/assets/js/4.a54ca911.js"><link rel="prefetch" href="/assets/js/5.7ec3e431.js"><link rel="prefetch" href="/assets/js/6.04e6c858.js"><link rel="prefetch" href="/assets/js/7.d5979760.js"><link rel="prefetch" href="/assets/js/8.6245ebcc.js"><link rel="prefetch" href="/assets/js/9.381266fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9bcdb81a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Minimal</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/minimal-boot/" class="nav-link">
  分离版
</a></div><div class="nav-item"><a href="/minimal-cloud/" class="nav-link router-link-active">
  微服务版
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><span class="title">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lzpeng723/minimal-boot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  分离版
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lzpeng723/minimal-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微服务版
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/minimal-boot/" class="nav-link">
  分离版
</a></div><div class="nav-item"><a href="/minimal-cloud/" class="nav-link router-link-active">
  微服务版
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><span class="title">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lzpeng723/minimal-boot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  分离版
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lzpeng723/minimal-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微服务版
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/minimal-cloud/project-introduction.html" class="sidebar-link">项目介绍</a></li><li><a href="/minimal-cloud/quick-understand.html" class="sidebar-link">快速了解</a></li><li><a href="/minimal-cloud/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/minimal-cloud/java-development-book.html" aria-current="page" class="active sidebar-link">后端手册</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#项目模块" class="sidebar-link">项目模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#新建模块" class="sidebar-link">新建模块</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#新增实体" class="sidebar-link">新增实体</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#生成代码" class="sidebar-link">生成代码</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#发布菜单" class="sidebar-link">发布菜单</a></li></ul></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#权限控制" class="sidebar-link">权限控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#权限控制-2" class="sidebar-link">权限控制</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#数据交互" class="sidebar-link">数据交互</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#权限注解" class="sidebar-link">权限注解</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#接口放行" class="sidebar-link">接口放行</a></li></ul></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#通用查询" class="sidebar-link">通用查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#jpa查询" class="sidebar-link">JPA查询</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#query-dsl查询" class="sidebar-link">Query DSL查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#系统缓存" class="sidebar-link">系统缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#配置缓存" class="sidebar-link">配置缓存</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#缓存注解" class="sidebar-link">缓存注解</a></li><li class="sidebar-sub-header"><a href="/minimal-cloud/java-development-book.html#使用建议" class="sidebar-link">使用建议</a></li></ul></li></ul></li><li><a href="/minimal-cloud/vue-development-book.html" class="sidebar-link">前端手册</a></li><li><a href="/minimal-cloud/deploy-project.html" class="sidebar-link">部署项目</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其它</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/minimal-cloud/common-problem.html" class="sidebar-link">常见问题</a></li><li><a href="/minimal-cloud/contribution-code.html" class="sidebar-link">贡献代码</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>版权</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/minimal-cloud/copyright-notice.html" class="sidebar-link">版权说明</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>鸣谢</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/minimal-cloud/special-thanks.html" class="sidebar-link">特别鸣谢</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="后端手册"><a href="#后端手册" class="header-anchor">#</a> 后端手册</h1> <h2 id="项目模块"><a href="#项目模块" class="header-anchor">#</a> 项目模块</h2> <p>这里演示使用 IDEA 创建一个新的子模块</p> <h3 id="新建模块"><a href="#新建模块" class="header-anchor">#</a> 新建模块</h3> <p>点击 File -&gt; New -&gt; Module...</p> <p><img src="/create-module-1.png" alt="新建模块"></p> <p>点击Next</p> <p><img src="/create-module-2.png" alt="点击Next"></p> <p>父模块选择 minimal-modules, 给本模块命名, 点击 Finish</p> <p><img src="/create-module-3.png" alt="选择父模块,命名子模块"></p> <p>给本模块写上中文名和中文介绍,并将 minimal-system 的依赖拷贝到本模块</p> <p><img src="/create-module-4.png" alt="pom"></p> <p>将 minimal-system 的配置文件 application.yml 拷贝到本模块, 并修改端口</p> <p><img src="/create-module-5.png" alt="application"></p> <p>新建 Spring Boot 启动类</p> <p><img src="/create-module-6.png" alt="new class"> <img src="/create-module-7.png" alt="new class"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot</span><span class="token punctuation">.</span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure</span><span class="token punctuation">.</span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Demo模块 启动类
 * @author : Lzpeng
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">DemoApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>新建数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">`</span>你的模块名<span class="token punctuation">`</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token keyword">COLLATE</span> utf8_general_ci<span class="token punctuation">;</span>
</code></pre></div><h3 id="新增实体"><a href="#新增实体" class="header-anchor">#</a> 新增实体</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>实体类必须放到 .domain.entity 包下</p></div> <p>新增实体 DemoEntity</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>common<span class="token punctuation">.</span>core<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Excel</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>common<span class="token punctuation">.</span>core<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">GenerateCode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>common<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity</span><span class="token punctuation">.</span><span class="token class-name">BaseEntity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations</span><span class="token punctuation">.</span><span class="token class-name">ApiModel</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations</span><span class="token punctuation">.</span><span class="token class-name">ApiModelProperty</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">Data</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">EqualsAndHashCode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> lombok<span class="token punctuation">.</span><span class="token class-name">ToString</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>annotations</span><span class="token punctuation">.</span><span class="token class-name">DynamicInsert</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>annotations</span><span class="token punctuation">.</span><span class="token class-name">DynamicUpdate</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence</span><span class="token punctuation">.</span><span class="token class-name">Column</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence</span><span class="token punctuation">.</span><span class="token class-name">Entity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints</span><span class="token punctuation">.</span><span class="token class-name">NotBlank</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints</span><span class="token punctuation">.</span><span class="token class-name">Size</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author : Lzpeng
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span><span class="token string">&quot;测试实体&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@DynamicInsert</span>
<span class="token annotation punctuation">@DynamicUpdate</span>
<span class="token annotation punctuation">@ToString</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GenerateCode</span><span class="token punctuation">(</span>editPage <span class="token operator">=</span> <span class="token class-name">GenerateCode</span><span class="token punctuation">.</span><span class="token class-name">PageType</span><span class="token punctuation">.</span>DIALOG<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoEntity</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEntity</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * 名称
     */</span>
    <span class="token annotation punctuation">@NotBlank</span>
    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;名称&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;名称&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>columnDefinition <span class="token operator">=</span> <span class="token string">&quot;varchar(255) COMMENT '名称'&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token comment">/**
     * 编码
     */</span>
    <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">&quot;编码必须为6-16位之间&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;编码&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>columnDefinition <span class="token operator">=</span> <span class="token string">&quot;varchar(255) COMMENT '编码'&quot;</span><span class="token punctuation">,</span> unique <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> number<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="生成代码"><a href="#生成代码" class="header-anchor">#</a> 生成代码</h3> <p>在 DemoApplication 类上按 Alt + Enter 选择 Create Test</p> <p><img src="/generate-code-1.png" alt="new generate"></p> <p><img src="/generate-code-2.png" alt="new generate"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>generate<span class="token punctuation">.</span>core</span><span class="token punctuation">.</span><span class="token class-name">AbstractCodeGenerator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>lzpeng<span class="token punctuation">.</span>minimal<span class="token punctuation">.</span>generate<span class="token punctuation">.</span>jpa</span><span class="token punctuation">.</span><span class="token class-name">JpaCodeGenerator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api</span><span class="token punctuation">.</span><span class="token class-name">Test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api</span><span class="token punctuation">.</span><span class="token class-name">Assertions</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token comment">/**
 * @author : Lzpeng
 */</span>
<span class="token keyword">class</span> <span class="token class-name">DemoApplicationTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGenFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">AbstractCodeGenerator</span> generator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JpaCodeGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        generator<span class="token punctuation">.</span><span class="token function">generateAllCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>运行测试用例,生成代码</p> <p><img src="/run-generator-1.png" alt="run-generator"></p> <p>运行完毕后会生成 Controller, Service, Dao, 测试用例和前端页面,如下图所示</p> <p><img src="/run-generator-2.png" alt="run-generator"></p> <p>运行测试用例</p> <p><img src="/run-controller-test-1.png" alt="run-controller-test"></p> <p>可能会出现 <code>nested exception is java.lang.IllegalArgumentException: Did not find a query class com.lzpeng.minimal.demo.domain.entity.QDemoEntity for domain class com.lzpeng.minimal.demo.domain.entity.DemoEntity!</code>,是因为没有生成QueryDSL的类, 可以<code>mvn compile</code>一下。</p> <p><img src="/mvn-compile.png" alt="mvn-compile"></p> <p>再次运行测试用例就会运行成功,说明后端代码没有问题</p> <p><img src="/run-controller-test-2.png" alt="run-controller-test"></p> <p>将生成的前端文件放置前端项目中</p> <p><img src="/copy-vue-code.png" alt="copy-vue-code"></p> <p>在网关模块配置文件(./minimal-gateway/src/main/resources/application-gateway.yml)添加如下配置</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> minimal<span class="token punctuation">-</span>demo
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//minimal<span class="token punctuation">-</span>demo
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/demo/<span class="token important">**</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>注意缩进空格(TAB),缩进不对会导致项目启动失败</p></div> <p>配置完成之后如下图所示</p> <p><img src="/config-gateway.png" alt="config-gateway"></p> <h3 id="发布菜单"><a href="#发布菜单" class="header-anchor">#</a> 发布菜单</h3> <p>启动 Nacos, Sentinel, Zipkin</p> <p><a href="/guide/quick-start.html#后端运行idea">启动所有微服务</a>和<a href="/guide/quick-start.html#前端运行webstorm">前端项目</a>,然后使用系统管理员登录系统</p> <p><img src="/login-page.png" alt="登录页面"></p> <p><img src="/home-page.png" alt="首页">
选择 系统管理 -&gt; 菜单管理 -&gt; 新增菜单</p> <p>新增菜单组</p> <p><img src="/create-menu-1.png" alt="新增菜单组"></p> <p><img src="/create-menu-2.png" alt="新增菜单组"></p> <p>新增菜单项</p> <p><img src="/create-menu-3.png" alt="新增菜单项"></p> <p><img src="/create-menu-4.png" alt="新增菜单项"></p> <p><img src="/create-menu-5.png" alt="新增菜单项"></p> <p>新增权限项</p> <p><img src="/create-menu-6.png" alt="新增权限项"></p> <p><img src="/create-menu-7.png" alt="新增权限项"></p> <p>最终效果:</p> <p><img src="/create-menu-8.png" alt="新增权限项"></p> <p>分配权限</p> <p><img src="/authorization-1.png" alt="分配权限"></p> <p><img src="/authorization-2.png" alt="分配权限"></p> <p>退出系统,重新登录,测试新模块</p> <p><img src="/logout-page.png" alt="退出登录"></p> <p>测试增删改查均无问题</p> <p><img src="/test-crud-1.png" alt="测试新模块"></p> <h2 id="权限控制"><a href="#权限控制" class="header-anchor">#</a> 权限控制</h2> <p>权限控制采用Spring Security,待补充</p> <h3 id="权限控制-2"><a href="#权限控制-2" class="header-anchor">#</a> 权限控制</h3> <p>权限控制采用Spring Security,待补充</p> <h3 id="数据交互"><a href="#数据交互" class="header-anchor">#</a> 数据交互</h3> <p>权限控制采用Spring Security,待补充</p> <h3 id="权限注解"><a href="#权限注解" class="header-anchor">#</a> 权限注解</h3> <p>权限控制采用Spring Security,待补充</p> <h3 id="接口放行"><a href="#接口放行" class="header-anchor">#</a> 接口放行</h3> <p>权限控制采用Spring Security,待补充</p> <h2 id="通用查询"><a href="#通用查询" class="header-anchor">#</a> 通用查询</h2> <p>ORM框架采用Spring Data JPA,待补充</p> <h3 id="jpa查询"><a href="#jpa查询" class="header-anchor">#</a> JPA查询</h3> <p>ORM框架采用Spring Data JPA,待补充</p> <h3 id="query-dsl查询"><a href="#query-dsl查询" class="header-anchor">#</a> Query DSL查询</h3> <p>ORM框架采用Spring Data JPA,待补充</p> <h2 id="系统缓存"><a href="#系统缓存" class="header-anchor">#</a> 系统缓存</h2> <p>缓存采用Spring Cache,待补充</p> <h3 id="配置缓存"><a href="#配置缓存" class="header-anchor">#</a> 配置缓存</h3> <p>缓存采用Spring Cache,待补充</p> <h3 id="缓存注解"><a href="#缓存注解" class="header-anchor">#</a> 缓存注解</h3> <p>缓存采用Spring Cache,待补充</p> <h3 id="使用建议"><a href="#使用建议" class="header-anchor">#</a> 使用建议</h3> <p>缓存采用Spring Cache,待补充</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/minimal-cloud/quick-start.html" class="prev">
        快速开始
      </a></span> <span class="next"><a href="/minimal-cloud/vue-development-book.html">
        前端手册
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d8d1518c.js" defer></script><script src="/assets/js/2.6dbcc0f4.js" defer></script><script src="/assets/js/13.8ccc753e.js" defer></script>
  </body>
</html>
